/* simple-module v3.0.0 | (c) Mycolorway Design | MIT License */
(function(){var t,e,n,r,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,l=[].slice;(r="object"==typeof module&&module.exports)?(t=require("eventemitter2"),n=require("lodash")):(t=window.EventEmitter2,n=window._),e=function(t){function e(t){e.__super__.constructor.call(this),this.opts=n.extend({},e.opts,t),this.opts.plugins.forEach(function(t){return function(n){return t.plugins[n]=new e.plugins[n](t)}}(this))}return o(e,t),e.extend=function(t){var e,n,r;if(!t||"object"!=typeof t)throw new Error("SimpleModule.extend: param should be an object");for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this[e]=r);return null!=(n=t.extended)&&n.call(this),this},e.include=function(t){var e,n,r;if(!t||"object"!=typeof t)throw new Error("SimpleModule.include: param should be an object");for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=r);return null!=(n=t.included)&&n.call(this),this},e.plugins={},e.plugin=function(t,e){if(!t||"string"!=typeof t)throw new Error("SimpleModule.plugin: first param should be a string");if("function"!=typeof e)throw new Error("SimpleModule.plugin: second param should be a class reference");return this.plugins[t]=e},e.opts={plugins:[]},e.prototype.plugins={},e.prototype.one=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.once.apply(this,t)},e.prototype.trigger=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.emit.apply(this,t)},e.prototype.triggerAsync=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],this.emitAsync.apply(this,t)},e}(t),r?module.exports=e:window.SimpleModule=e}).call(this);